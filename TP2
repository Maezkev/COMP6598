import java.util.Scanner;
import java.util.Arrays;
import java.util.ArrayList;

public class TP2 {
  static Scanner inputuser = new Scanner(System.in);
  static ArrayList<String[]> isiMK = new ArrayList<String[]>();
  public static void main(String[] args) {
    int nomenu = 0;
    while (nomenu != 4){
      System.out.println("\nMenu Pendataan dan Perhitungan IPS (Index Prestasi Semester) \n"
                      + "1. Pendataan Mata Kuliah \n"
                      + "2. Perhitungan IPS \n"
                      + "3. Update Grade \n"
                      + "4. Keluar \n"
                      + "Masukkan Pilihan Anda : ");
      nomenu = inputuser.nextInt();
      switch(nomenu){
        case 1:
          PMK();
          break;
        case 2:
          PIPS();
          break;
        case 3:
          UG();
          break;
        case 4:
          break;
      }
    }
  }
  
  static boolean validgrade(String gradeMK){ 
    if ("A".equals(gradeMK.toUpperCase()) || "B".equals(gradeMK.toUpperCase()) 
        || "C".equals(gradeMK.toUpperCase()) || "D".equals(gradeMK.toUpperCase()) 
        || "E".equals(gradeMK.toUpperCase()) ) 
        return true; 
    else System.out.println ("Masukan Grade Mata Kuliah yang benar(A,B,C,D,E)!"); 
    return false; 
  } 
  static void PMK(){
    System.out.print("\nMasukkan Jumlah Mata Kuliah : ");
    int JMK = inputuser.nextInt();
    isiMK.clear();
    
    for(int i = 0 ; i < JMK ; i-=-1){
      String dataMK [] = new String [4];
      System.out.print("\nMasukkan Kode Mata Kuliah : ");
      dataMK[0] = inputuser.next();
      System.out.print("Masukkan Nama Mata Kuliah : ");
      dataMK[1] = inputuser.next();
      
      //Check input grade pakai method validgrade
      do{
        System.out.print("Masukkan Grade Mata Kuliah : ");
        dataMK[2] = inputuser.next(); 
      }
      while(!validgrade(dataMK[2]));
        System.out.print("Masukkan Jumlah SKS : ");
        dataMK[3] = inputuser.next();
      
      isiMK.add(dataMK); 
      System.out.println();
    }
    System.out.print(">> Data Mata Kuliah Berhasil Diinput! <<\n\n");
  }
  static int gradetonum(String gradealph){
    switch(gradealph){
      case "A" :
          return 4;
      case "B" :
          return 3;
      case "C" :
          return 2;
      case "D" :
          return 1;
      case "E" :
          return 0;
    } return 0;
  }
  static void PIPS(){
    System.out.println("\nMata Kuliah Yang Anda Ambil Adalah :");
    int SKS = 0;
    int GradeSKS = 0;
    for(int i = 0 ; i < isiMK.size() ; i-=-1){
      
      //Ambil & Print Data dari menu 1
      String tampil=String.format("%s %s \t\t%s \t%s", isiMK.get(i)[0], 
              isiMK.get(i)[1], 
              isiMK.get(i)[2], 
              isiMK.get(i)[3]);
      System.out.println(tampil);
      int Numgrade = gradetonum(isiMK.get(i) [2]);
      int NumSKS = Integer.parseInt(isiMK.get(i) [3]);
      GradeSKS = GradeSKS + (Numgrade * NumSKS);
      SKS = SKS + NumSKS;
    }

    //Hasil IPS
    double hasil = GradeSKS / SKS;
    System.out.println(String.format("Nilai IPS anda adalah " + hasil ));
  }
  static void UG(){
    System.out.println("INI Update Grade");
  }
}
